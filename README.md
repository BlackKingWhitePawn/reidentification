# Создание системы обнаружения и отслеживания объектов на видео
## Установка 
### Опционально - установить CUDA на unix системе

`sudo apt install nvidia-cuda-toolkit`

### Установить зависимости 

`pip install requirements.txt`

или 

`conda install requirements.txt`

### Загрузить данные для обучения

Команды для загрузки данных написаны в `download.ipynb`

## Обработка данных

- MOT20 Extended - датасет, сформированный из датасета [MOT20](https://motchallenge.net). Описание структуры в `src/data/mot_ext.py`

Преобразование датасета MOT20 в датасет MOT20_Ext:

`python src/run.py`

## Структура проекта

- файлы `*.test.ipynb` содержат тестирование написанных классов и разборы данных, необходимые для написания кода
- файлы `ipynb` содержат преобразования данных или обучение моделей

### Исходный код

- директория `src` содержит весь код, использующийся для преобразования данных и обучения моделей


| модуль | описание
|-|-
| `data` | классы, наследующие Dataset
| `data.preparing` | функции обработки различных датасетов
| `models` | классы моделей
| `train` | функции для обучения моделей
| `transforms` | функции, создающие трансформации датасетов

**Для абсолютных путей импортов в модулях корневая директория - src. Относительные импорты в модуле разрешаются не выше, чем для соседних модулей. Поэтому запуск любого скрипта внутри src не предусмотрен**

## Запуск

- Точка входа программы - `src/run.py` 
- `src/config.py` содержит различные флаги и параметры, используемые в коде

### Конфигурационный файл

| имя параметра | значения | описание 
| - | - | -
| `DEBUG` | `True, False` | Если выставлен, новые файлы и директории не будут создаваться, а существующие изменятся
| `DATA_PATH` | `Pathlike` | Путь до директории с данными
| `IMAGENET_MEAN` | `list[int]` | Статистика "среднее" датасета ImageNet
| `IMAGENET_STD` | `list[int]` | Статистика "стандартное отклонение" датасета ImageNet

### Режимы запуска `run.py`


| ключ  | аргументы  |  описание |
|---|---|---|
| `-cd, --create-dataset`  | <>  | Создает указанный датасет и сохраняет его в директорию  |
